# ==============================================
# 班主任班级管理平台 - SSH 推送部署环境配置模板
# ==============================================

# 复制此文件为 .env.production 并填写实际配置值
# cp .env.production.image.example .env.production

# ==============================================
# 🌐 必须配置项
# ==============================================

# 域名配置 - 必须修改！
DOMAIN=your-domain.com
ROOT_DOMAIN=your-root-domain.com
TRAEFIK_DOMAIN=traefik.your-domain.com
TRAEFIK_AUTH_USERS=admin:YOUR_HTPASSWD_ENCODED_CREDENTIALS_HERE_CHANGE_ME

# 数据库密码 - 必须修改！
POSTGRES_PASSWORD=YOUR_STRONG_PASSWORD_HERE_CHANGE_ME

# 认证密钥 - 必须修改！ (使用: openssl rand -hex 32)
BETTER_AUTH_SECRET=CHANGE_THIS_TO_A_STRONG_SECRET_KEY_MIN_32_CHARS_USE_OPENSSL_RAND_HEX_32

# 认证 URL - 必须修改！
BETTER_AUTH_URL=https://your-domain.com

# 应用访问地址 - 必须修改！
NEXT_PUBLIC_APP_URL=https://your-domain.com

# ==============================================
# 🐳 Docker 镜像配置
# ==============================================

# Docker 镜像 (SSH 推送时自动设置)
DOCKER_IMAGE=class-tool:latest

# ==============================================
# 📁 基础配置
# ==============================================

# 数据目录
DATA_DIR=./data

# 数据库配置
POSTGRES_USER=postgres
POSTGRES_DB=class_tool
POSTGRES_PORT=5432

# 应用端口
PORT=3000

# ICP 备案号 (可选)
NEXT_PUBLIC_ICP_NUMBER=京ICP备2025148380号

# ==============================================
# 📝 配置说明
# ==============================================

# 1. 必须修改的 5 个关键配置：
#    ✅ DOMAIN - 你的域名
#    ✅ POSTGRES_PASSWORD - 强数据库密码  
#    ✅ BETTER_AUTH_SECRET - 32 字符认证密钥
#    ✅ BETTER_AUTH_URL - https://你的域名
#    ✅ NEXT_PUBLIC_APP_URL - https://你的域名

# 2. 快速生成密码：
#    openssl rand -hex 32

# 3. 部署后重启服务：
#    docker compose -f docker-compose.prod.yml restart
