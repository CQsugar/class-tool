# ==============================================
# 班主任班级管理平台 - 生产环境配置示例
# ==============================================
# 
# 使用说明:
# 1. 复制此文件为 .env.production
# 2. 修改所有标记为 "必须修改" 的配置项
# 3. 根据实际需求调整其他配置
# 4. 确保 .env.production 不被提交到版本控制
# ==============================================

# ==================== 应用基础配置 ====================
NODE_ENV=production

# 应用访问域名（必须修改）
NEXT_PUBLIC_APP_URL=https://your-domain.com
BETTER_AUTH_URL=https://your-domain.com

# 应用端口
PORT=3000
APP_PORT=3000

# 域名配置（用于 Traefik）
DOMAIN=your-domain.com

# ==================== 数据库配置 ====================
# PostgreSQL 配置（必须修改密码！）
POSTGRES_USER=postgres
POSTGRES_PASSWORD=YOUR_STRONG_PASSWORD_HERE_CHANGE_ME
POSTGRES_DB=class_tool
POSTGRES_PORT=5432

# 数据库连接字符串（会自动生成，无需手动修改）
DATABASE_URL=postgresql://postgres:YOUR_STRONG_PASSWORD_HERE_CHANGE_ME@postgres:5432/class_tool?schema=public

# 数据持久化目录（Docker 挂载到宿主机）
DATA_DIR=./data

# ==================== Better Auth 认证配置 ====================
# 认证密钥（必须修改！使用 openssl rand -hex 32 生成）
BETTER_AUTH_SECRET=CHANGE_THIS_TO_A_STRONG_SECRET_KEY_MIN_32_CHARS_USE_OPENSSL_RAND_HEX_32

# JWT 和会话配置（30天有效期）
BETTER_AUTH_JWT_EXPIRES_IN=2592000
BETTER_AUTH_SESSION_EXPIRES_IN=2592000

# 是否禁用用户注册（生产环境建议设为 true）
NEXT_PUBLIC_DISABLE_SIGNUP=true

# 是否显示认证页面装饰区域
NEXT_PUBLIC_SHOW_AUTH_DECORATION=true

# ICP 备案号（中国大陆部署必填，否则留空）
NEXT_PUBLIC_ICP_NUMBER=

# 公安联网备案号（可选）
NEXT_PUBLIC_POLICE_NUMBER=
NEXT_PUBLIC_POLICE_NUMBER_LINK=

# ==================== 文件存储配置 ====================
# 文件上传限制（MB，可选，默认 10MB）
NEXT_PUBLIC_MAX_FILE_SIZE=10

# 文件存储路径（Docker 容器内路径，不要修改）
UPLOAD_DIR=/app/uploads

# 文件上传限制（MB，可选，默认 10MB）
NEXT_PUBLIC_MAX_FILE_SIZE=10
